
@{
    ViewBag.Title = "ManageRoles";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<h2>ManageRoles</h2>


@model ProjectClone.Areas.Admin.Data.RoleViewModel
<table class="table">
    <thead>
        <tr>
            <th scope="col">UserId</th>
            <th scope="col">Roles</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in ViewBag.Data)
        {
            <tr>
                <td>@item.UserId</td>
                <td>@item.UserRole</td>
                <td>
                    <button  type="button" class="btnEdit btn btn-outline-info">
                        Edit
                    </button>

                </td>
            </tr>



        }

    </tbody>
</table>


<div class="modal" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                @using (Html.BeginForm("UpdateRole", "User", FormMethod.Post))
                {

                    <div class="form-group">
                        <label for="UserId">UserId</label>
                        <input class="form-control" id="UserId" name="UserId" placeholder="UserId" />
                    </div>
                    <div class="form-group">
                        <label for="UserRole">UserRole</label>
                        <select id="UserRole" name="UserRole" class="form-control">

                            <option value="Admin">Admin</option>
                            <option value="User">User</option>
                        </select>
                    </div>
                    <div>
                        <button class="btn btn-primary" type="submit">Submit</button>

                    </div>
                }

            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    $(".btnEdit").click(function () {
        debugger
        var currentTd= $(this).closest("tr").find("td");
        var data1 = $(currentTd).eq(0).text();
        var data2 = $(currentTd).eq(1).text();
        $("#UserId").val(data1);
        $("#UserRole").val(data2);
        $("#myModal").modal('show');

    })
    $(".close").click(function () {

        $("#myModal").modal('hide');
    })
</script>

